# ğŸ›  Debian-Based OS with GUI 

This project is a custom Debian-based operating system built using **live-build**, featuring:
- Xorg and Openbox window manager
- A **custom PyQt login screen** replacing the default CLI login
- Autologin handled via systemd
- User switching to full shell or GUI session

![Alt text](diagram.png)

---

## ğŸ“ Directory Structure

```
project-root/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ includes.chroot/               # Files copied to filesystem before build
â”‚   â”‚   â”œâ”€â”€ etc/skel/.xinitrc          # User's xinitrc for X session
â”‚   â”‚   â””â”€â”€ usr/local/bin/             # Custom scripts
â”‚   â”‚       â”œâ”€â”€ gui-login-x.sh         # Script for launching X + login
â”‚   â”‚       â””â”€â”€ switch-user.sh         # Script for switching to the user
â”‚   â””â”€â”€ package-lists/                 # Custom packages to install
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ ...                            # Optional pre/post build hooks
```

---

## ğŸš€ How It Works

### Boot Process Flow:
1. System boots to `multi-user.target`.
2. systemd starts `login-gui.service`.
3. `login-gui.service` runs `gui-login-x.sh`.
4. That script:
   - Detects the first valid user dynamically.
   - Starts the X session via `xinit` using the userâ€™s `.xinitrc`.
   - `.xinitrc` launches `openbox` and the PyQt login screen.
5. After successful login:
   - `switch-user.sh` is called to switch from root to the selected user.
   - Shell session (CLI/GUI) starts.

---



---

## ğŸ§¼ Clean Build Environment
If changes any config files
```bash
sudo lb config
```

Before rebuilding:

```bash
sudo lb clean
```

To clean everything:
```bash
sudo lb clean --purge
```

---

## ğŸ— Build the ISO

```bash
sudo lb build
```

Generated ISO will be located in the project root directory.

---

## ğŸ“‹ Notes

- No use of `sudo` inside scripts or setup (OS-level configuration).
- GUI login screen is purely custom and replaces default `getty`.
- No static users created â€” system dynamically handles user detection.
- Use `.xinitrc` under `/etc/skel` to prepopulate new user configs.
